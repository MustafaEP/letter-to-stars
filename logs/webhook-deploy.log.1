Letter to Stars | Frontend Deploy Started
== Deploy started: 2026-02-08T11:33:55+00:00 ==
PROJECT_ROOT=/opt/letter-to-stars
COMPOSE_DIR=/opt/letter-to-stars/infra/compose/prod
PROXY_CONTAINER=reverse-proxy
COMPOSE_PROJECT_NAME=letter-to-stars
BASE_URL=https://lettertostars.mustafaerhanportakal.com
-----------------------------------
Pulling latest code...
From https://github.com/MustafaEP/letter-to-stars
   fba76df..89f5c5e  main       -> origin/main
error: Your local changes to the following files would be overwritten by merge:
	scripts/deploy.sh
Please commit your changes or stash them before you merge.
Aborting
Updating fba76df..89f5c5e
Letter to Stars | Frontend Deploy Started
== Deploy started: 2026-02-08T11:37:17+00:00 ==
PROJECT_ROOT=/opt/letter-to-stars
COMPOSE_DIR=/opt/letter-to-stars/infra/compose/prod
PROXY_CONTAINER=reverse-proxy
COMPOSE_PROJECT_NAME=letter-to-stars
BASE_URL=https://lettertostars.mustafaerhanportakal.com
-----------------------------------
Pulling latest code...
From https://github.com/MustafaEP/letter-to-stars
   89f5c5e..72d37ff  main       -> origin/main
error: Your local changes to the following files would be overwritten by merge:
	scripts/deploy.sh
Please commit your changes or stash them before you merge.
Aborting
Updating fba76df..72d37ff
Letter to Stars | Full Deploy Started
== Deploy started: 2026-02-08T11:57:18+00:00 ==
PROJECT_ROOT=/opt/letter-to-stars
COMPOSE_DIR=/opt/letter-to-stars/infra/compose/prod
PROXY_CONTAINER=reverse-proxy
COMPOSE_PROJECT_NAME=letter-to-stars
BASE_URL=https://lettertostars.mustafaerhanportakal.com
-----------------------------------
Pulling latest code (hard reset to origin/main)...
From https://github.com/MustafaEP/letter-to-stars
 * branch            main       -> FETCH_HEAD
   72d37ff..a115d67  main       -> origin/main
HEAD is now at a115d67 fix: push, webhook, deploy events
Building & starting ALL services...
 Image lettertostars-web:latest Building 
 Image lettertostars-backend:latest Building 
 Image lettertostars-ai:latest Building 
 Image letter-to-stars-lettertostars-webhook Building 
#1 [internal] load local bake definitions
#1 reading from stdin 2.01kB done
#1 DONE 0.0s

#2 [lettertostars-webhook internal] load build definition from Dockerfile
#2 transferring dockerfile:
#2 transferring dockerfile: 489B 0.0s done
#2 DONE 0.1s

#3 [lettertostars-ai internal] load build definition from Dockerfile
#3 transferring dockerfile: 349B 0.0s done
#3 DONE 0.1s

#4 [lettertostars-web internal] load build definition from Dockerfile
#4 transferring dockerfile: 450B 0.0s done
#4 DONE 0.1s

#5 [lettertostars-backend internal] load build definition from Dockerfile
#5 transferring dockerfile: 505B 0.0s done
#5 DONE 0.1s

#6 [lettertostars-web internal] load metadata for docker.io/library/nginx:alpine
#6 DONE 0.0s

#7 [lettertostars-backend internal] load metadata for docker.io/library/node:20-alpine
#7 DONE 0.8s

#8 [lettertostars-backend internal] load .dockerignore
#8 transferring context: 2B done
#8 DONE 0.0s

#9 [lettertostars-web internal] load .dockerignore
#9 transferring context: 2B 0.0s done
#9 DONE 0.0s

#10 [lettertostars-webhook internal] load .dockerignore
#10 transferring context: 2B done
#10 DONE 0.0s

#11 [lettertostars-webhook internal] load build context
#11 ...

#12 [lettertostars-backend internal] load build context
#12 transferring context: 2.52kB 0.1s done
#12 DONE 0.1s

#11 [lettertostars-webhook internal] load build context
#11 ...

#13 [lettertostars-ai internal] load metadata for docker.io/library/python:3.11-slim
#13 DONE 1.3s

#11 [lettertostars-webhook internal] load build context
#11 ...

#14 [lettertostars-web 1/6] FROM docker.io/library/node:20-alpine@sha256:09e2b3d9726018aecf269bd35325f46bf75046a643a66d28360ec71132750ec8
#14 resolve docker.io/library/node:20-alpine@sha256:09e2b3d9726018aecf269bd35325f46bf75046a643a66d28360ec71132750ec8 0.6s done
#14 DONE 0.6s

#11 [lettertostars-webhook internal] load build context
#11 ...

#15 [lettertostars-web stage-1 1/3] FROM docker.io/library/nginx:alpine@sha256:c083c3799197cfff91fe5c3c558db3d2eea65ccbbfd419fa42a64d2c39a24027
#15 resolve docker.io/library/nginx:alpine@sha256:c083c3799197cfff91fe5c3c558db3d2eea65ccbbfd419fa42a64d2c39a24027 0.6s done
#15 DONE 0.6s

#11 [lettertostars-webhook internal] load build context
#11 ...

#16 [lettertostars-ai internal] load .dockerignore
#16 transferring context: 2B 0.1s done
#16 DONE 0.8s

#11 [lettertostars-webhook internal] load build context
#11 ...

#17 [lettertostars-webhook 2/6] WORKDIR /app
#17 CACHED

#11 [lettertostars-webhook internal] load build context
#11 transferring context: 955.54kB 2.9s done
#11 DONE 3.1s

#18 [lettertostars-web internal] load build context
#18 ...

#19 [lettertostars-backend stage-1 3/5] COPY --from=build /app/dist ./dist
#19 CACHED

#20 [lettertostars-backend stage-1 4/5] COPY --from=build /app/node_modules ./node_modules
#20 CACHED

#21 [lettertostars-backend build 4/6] RUN npm install
#21 CACHED

#22 [lettertostars-backend build 6/6] RUN npm run build
#22 CACHED

#23 [lettertostars-backend build 3/6] COPY package*.json ./
#23 CACHED

#24 [lettertostars-backend build 5/6] COPY . .
#24 CACHED

#18 [lettertostars-web internal] load build context
#18 ...

#25 [lettertostars-backend stage-1 5/5] COPY package*.json ./
#25 CACHED

#18 [lettertostars-web internal] load build context
#18 ...

#26 [lettertostars-ai internal] load build context
#26 transferring context: 1.22kB 0.1s done
#26 DONE 0.4s

#27 [lettertostars-ai 1/5] FROM docker.io/library/python:3.11-slim@sha256:0b23cfb7425d065008b778022a17b1551c82f8b4866ee5a7a200084b7e2eafbf
#27 resolve docker.io/library/python:3.11-slim@sha256:0b23cfb7425d065008b778022a17b1551c82f8b4866ee5a7a200084b7e2eafbf 0.4s done
#27 DONE 0.5s

#28 [lettertostars-ai 3/5] COPY requirements.txt .
#28 CACHED

#29 [lettertostars-ai 2/5] WORKDIR /app
#29 CACHED

#30 [lettertostars-ai 4/5] RUN pip install --no-cache-dir -r requirements.txt
#30 CACHED

#18 [lettertostars-web internal] load build context
#18 ...

#31 [lettertostars-ai 5/5] COPY app ./app
#31 CACHED

#32 [lettertostars-backend] exporting to image
#32 exporting layers 0.1s done
#32 exporting manifest sha256:902d31eb2325a3f6de1848e8e7d925209a582fe3b507151ddc3ad8771c90879a 0.0s done
#32 exporting config sha256:bf97ccc260b6f3c689b1460b1af9fa79b0710a7879269bde8eaa2617d49ce6fa 0.0s done
#32 exporting attestation manifest sha256:aa1f26391f39d6e06a2504f6672c79277fd17834df3edcb22e13409a5bb08d08 0.1s done
#32 exporting manifest list sha256:647a51eeb62451d119dddffe1c38b04163d6a9be8a891f85038050540a87b1fd 0.1s done
#32 naming to docker.io/library/lettertostars-backend:latest 0.0s done
#32 unpacking to docker.io/library/lettertostars-backend:latest
#32 ...

#18 [lettertostars-web internal] load build context
#18 transferring context: 1.16MB 4.0s done
#18 DONE 4.1s

#32 [lettertostars-backend] exporting to image
#32 unpacking to docker.io/library/lettertostars-backend:latest 0.2s done
#32 DONE 1.0s

#33 [lettertostars-web build 4/6] RUN npm install
#33 CACHED

#34 [lettertostars-web build 5/6] COPY . .
#34 CACHED

#35 [lettertostars-web build 6/6] RUN npm run build
#35 CACHED

#36 [lettertostars-web stage-1 2/3] COPY --from=build /app/dist /usr/share/nginx/html
#36 CACHED

#37 [lettertostars-web build 3/6] COPY package*.json ./
#37 CACHED

#38 [lettertostars-web stage-1 3/3] COPY nginx.conf /etc/nginx/conf.d/default.conf
#38 CACHED

#39 [lettertostars-ai] exporting to image
#39 exporting layers 0.2s done
#39 exporting manifest sha256:9f7965f602bdb2e44f0793eda7212c6538925cf8641b775690e12962d52a2269 0.0s done
#39 exporting config sha256:28e231674b0b8223a2911a2f702d69cc10526de2886982998e748cb37328d792 done
#39 exporting attestation manifest sha256:e6e45fd8f29c4227577a781de3da742d36230fed755afd6aca916a9abccdc17f 0.1s done
#39 exporting manifest list sha256:1d11fb69c549b71eb144b348fe2dd366ed97c966d54af8a570c767ea9dd8d185 0.1s done
#39 naming to docker.io/library/lettertostars-ai:latest 0.0s done
#39 unpacking to docker.io/library/lettertostars-ai:latest 0.1s done
#39 DONE 0.9s

#40 [lettertostars-web] exporting to image
#40 exporting layers 0.1s done
#40 exporting manifest sha256:29f09debc8533e41637726de4bbc8dbc5aa3872a7c2e56a21d8ae418071528bf
#40 exporting manifest sha256:29f09debc8533e41637726de4bbc8dbc5aa3872a7c2e56a21d8ae418071528bf 0.0s done
#40 exporting config sha256:29fdabb231e27ec3cac5a7ec617e8979272295e705f875063fbf19445f4b0d07 0.0s done
#40 exporting attestation manifest sha256:50a41c54890d1af216fba9a55d9635401f0c35fcede40d5647d311abb87c41d4
#40 exporting attestation manifest sha256:50a41c54890d1af216fba9a55d9635401f0c35fcede40d5647d311abb87c41d4 0.2s done
#40 exporting manifest list sha256:71f61769c6916b608eb079702df21e63c3a130a06fecd1437f95163ac4c68381
#40 exporting manifest list sha256:71f61769c6916b608eb079702df21e63c3a130a06fecd1437f95163ac4c68381 0.1s done
#40 naming to docker.io/library/lettertostars-web:latest 0.0s done
#40 unpacking to docker.io/library/lettertostars-web:latest
#40 unpacking to docker.io/library/lettertostars-web:latest 0.3s done
#40 ...

#41 [lettertostars-ai] resolving provenance for metadata file
#41 DONE 0.1s

#42 [lettertostars-webhook 3/6] RUN apk add --no-cache bash git curl util-linux docker-cli docker-cli-compose
#42 ...

#43 [lettertostars-backend] resolving provenance for metadata file
#43 DONE 0.0s

#40 [lettertostars-web] exporting to image
#40 DONE 1.8s

#42 [lettertostars-webhook 3/6] RUN apk add --no-cache bash git curl util-linux docker-cli docker-cli-compose
#42 3.618 ( 1/55) Installing ncurses-terminfo-base (6.5_p20251123-r0)
#42 3.656 ( 2/55) Installing libncursesw (6.5_p20251123-r0)
#42 3.679 ( 3/55) Installing readline (8.3.1-r0)
#42 3.690 ( 4/55) Installing bash (5.3.3-r1)
#42 3.759   Executing bash-5.3.3-r1.post-install
#42 ...

#44 [lettertostars-web] resolving provenance for metadata file
#44 DONE 0.0s

#42 [lettertostars-webhook 3/6] RUN apk add --no-cache bash git curl util-linux docker-cli docker-cli-compose
#42 3.787 ( 5/55) Installing brotli-libs (1.2.0-r0)
#42 3.827 ( 6/55) Installing c-ares (1.34.6-r0)
#42 3.836 ( 7/55) Installing libunistring (1.4.1-r0)
#42 3.873 ( 8/55) Installing libidn2 (2.3.8-r0)
#42 3.881 ( 9/55) Installing nghttp2-libs (1.68.0-r0)
#42 3.885 (10/55) Installing nghttp3 (1.13.1-r0)
#42 3.892 (11/55) Installing libpsl (0.21.5-r3)
#42 3.897 (12/55) Installing zstd-libs (1.5.7-r2)
#42 3.911 (13/55) Installing libcurl (8.17.0-r1)
#42 3.926 (14/55) Installing curl (8.17.0-r1)
#42 3.936 (15/55) Installing ca-certificates (20251003-r0)
#42 3.985 (16/55) Installing docker-cli (29.1.3-r2)
#42 4.342 (17/55) Installing docker-cli-compose (2.40.3-r3)
#42 5.273 (18/55) Installing libexpat (2.7.4-r0)
#42 5.280 (19/55) Installing pcre2 (10.47-r0)
#42 5.296 (20/55) Installing git (2.52.0-r0)
#42 5.432 (21/55) Installing git-init-template (2.52.0-r0)
#42 5.438 (22/55) Installing util-linux (2.41.2-r0)
#42 5.443 (23/55) Installing dmesg (2.41.2-r0)
#42 5.450 (24/55) Installing setarch (2.41.2-r0)
#42 5.454 (25/55) Installing libeconf (0.8.3-r0)
#42 5.456 (26/55) Installing libblkid (2.41.2-r0)
#42 5.463 (27/55) Installing libuuid (2.41.2-r0)
#42 5.470 (28/55) Installing libfdisk (2.41.2-r0)
#42 5.479 (29/55) Installing libmount (2.41.2-r0)
#42 5.487 (30/55) Installing libsmartcols (2.41.2-r0)
#42 5.498 (31/55) Installing skalibs-libs (2.14.4.0-r0)
#42 5.505 (32/55) Installing utmps-libs (0.1.3.1-r0)
#42 5.510 (33/55) Installing util-linux-misc (2.41.2-r0)
#42 5.563 (34/55) Installing linux-pam (1.7.1-r2)
#42 5.589 (35/55) Installing runuser (2.41.2-r0)
#42 5.596 (36/55) Installing mount (2.41.2-r0)
#42 5.602 (37/55) Installing losetup (2.41.2-r0)
#42 5.607 (38/55) Installing hexdump (2.41.2-r0)
#42 5.614 (39/55) Installing uuidgen (2.41.2-r0)
#42 5.619 (40/55) Installing blkid (2.41.2-r0)
#42 5.624 (41/55) Installing sfdisk (2.41.2-r0)
#42 5.631 (42/55) Installing mcookie (2.41.2-r0)
#42 5.639 (43/55) Installing agetty (2.41.2-r0)
#42 5.644 (44/55) Installing wipefs (2.41.2-r0)
#42 5.650 (45/55) Installing cfdisk (2.41.2-r0)
#42 5.656 (46/55) Installing umount (2.41.2-r0)
#42 5.660 (47/55) Installing flock (2.41.2-r0)
#42 5.664 (48/55) Installing lsblk (2.41.2-r0)
#42 5.669 (49/55) Installing libcap-ng (0.8.5-r0)
#42 5.674 (50/55) Installing setpriv (2.41.2-r0)
#42 5.681 (51/55) Installing lscpu (2.41.2-r0)
#42 5.697 (52/55) Installing logger (2.41.2-r0)
#42 5.709 (53/55) Installing partx (2.41.2-r0)
#42 5.716 (54/55) Installing fstrim (2.41.2-r0)
#42 5.720 (55/55) Installing findmnt (2.41.2-r0)
#42 5.725 Executing busybox-1.37.0-r30.trigger
#42 5.747 Executing ca-certificates-20251003-r0.trigger
#42 5.973 OK: 130.5 MiB in 73 packages
#42 DONE 6.2s

#45 [lettertostars-webhook 4/6] COPY webhook/package*.json ./
#45 DONE 0.3s

#46 [lettertostars-webhook 5/6] RUN npm ci --omit=dev
#46 11.26 
#46 11.26 added 193 packages, and audited 194 packages in 11s
#46 11.27 
#46 11.27 34 packages are looking for funding
#46 11.27   run `npm fund` for details
#46 11.28 
#46 11.28 1 low severity vulnerability
#46 11.28 
#46 11.28 Some issues need review, and may require choosing
#46 11.28 a different dependency.
#46 11.28 
#46 11.28 Run `npm audit` for details.
#46 11.29 npm notice
#46 11.29 npm notice New major version of npm available! 10.8.2 -> 11.9.0
#46 11.29 npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.9.0
#46 11.29 npm notice To update run: npm install -g npm@11.9.0
#46 11.29 npm notice
#46 DONE 11.6s

#47 [lettertostars-webhook 6/6] COPY webhook/ ./
#47 DONE 6.0s

#48 [lettertostars-webhook] exporting to image
#48 exporting layers
#48 exporting layers 19.4s done
#48 exporting manifest sha256:93bb0bac03ff69ac3aec3501f65f3ef26f2f3f5da9eb439684bee3052b25c785
#48 exporting manifest sha256:93bb0bac03ff69ac3aec3501f65f3ef26f2f3f5da9eb439684bee3052b25c785 0.0s done
#48 exporting config sha256:e73990f1b4ed6efaf1d1f57f11c60a5272c42e27c5d447d6451a9a66f5e4be1e 0.0s done
#48 exporting attestation manifest sha256:e63d7f34452ecf6c13f0a619b7aa2c9e0dc42257c2a6b06e925c7b12482cdb83 0.0s done
#48 exporting manifest list sha256:6832b2b028c1c675cc4dfe7710273a03af2ab914932c55a5f0fbafb98df43222 0.0s done
#48 naming to docker.io/library/letter-to-stars-lettertostars-webhook:latest done
#48 unpacking to docker.io/library/letter-to-stars-lettertostars-webhook:latest
#48 unpacking to docker.io/library/letter-to-stars-lettertostars-webhook:latest 13.5s done
#48 DONE 33.1s

#49 [lettertostars-webhook] resolving provenance for metadata file
#49 DONE 0.1s
 Image lettertostars-backend:latest Built 
 Image lettertostars-web:latest Built 
 Image letter-to-stars-lettertostars-webhook Built 
 Image lettertostars-ai:latest Built 
 Container lettertostars-webhook Recreate 
 Container lettertostars-web Creating 
 Container lettertostars-backend Creating 
 Container lettertostars-ai Creating 
 Container lettertostars-backend Error response from daemon: Conflict. The container name "/lettertostars-backend" is already in use by container "4bd6f6e68806ec6fe386073ba39d367c8136d44c713c66929767bdcdeb71ae7c". You have to remove (or rename) that container to be able to reuse that name. 
Error response from daemon: Conflict. The container name "/lettertostars-backend" is already in use by container "4bd6f6e68806ec6fe386073ba39d367c8136d44c713c66929767bdcdeb71ae7c". You have to remove (or rename) that container to be able to reuse that name.
Letter to Stars | Deploy Started
== Deploy started: 2026-02-08T12:46:41+00:00 ==
PROJECT_ROOT=/opt/letter-to-stars
COMPOSE_DIR=/opt/letter-to-stars/infra/compose/prod
PROXY_CONTAINER=reverse-proxy
COMPOSE_PROJECT_NAME=letter-to-stars
BASE_URL=https://lettertostars.mustafaerhanportakal.com
DEPLOY_REMOTE=origin
DEPLOY_BRANCH=main
-----------------------------------
Pulling latest code...
Current ref: main @ abe0c04
From https://github.com/MustafaEP/letter-to-stars
 * branch            main       -> FETCH_HEAD
   abe0c04..88f2438  main       -> origin/main
Reset branch 'main'
M	scripts/deploy.sh
branch 'main' set up to track 'origin/main'.
Your branch is up to date with 'origin/main'.
HEAD is now at 88f2438 fix: run deploy script via bash and log spawn errors
Updated ref: main @ 88f2438
APP_VERSION=88f2438
Building & starting backend container...
 Image lettertostars-backend:latest Building 
#1 [internal] load local bake definitions
#1 reading from stdin 575B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 505B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:20-alpine
#3 DONE 0.7s

#4 [internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 2.52kB 0.0s done
#5 DONE 0.0s

#6 [build 1/6] FROM docker.io/library/node:20-alpine@sha256:09e2b3d9726018aecf269bd35325f46bf75046a643a66d28360ec71132750ec8
#6 resolve docker.io/library/node:20-alpine@sha256:09e2b3d9726018aecf269bd35325f46bf75046a643a66d28360ec71132750ec8 0.1s done
#6 DONE 0.1s

#7 [build 5/6] COPY . .
#7 CACHED

#8 [build 6/6] RUN npm run build
#8 CACHED

#9 [stage-1 3/5] COPY --from=build /app/dist ./dist
#9 CACHED

#10 [stage-1 4/5] COPY --from=build /app/node_modules ./node_modules
#10 CACHED

#11 [build 2/6] WORKDIR /app
#11 CACHED

#12 [build 3/6] COPY package*.json ./
#12 CACHED

#13 [build 4/6] RUN npm install
#13 CACHED

#14 [stage-1 5/5] COPY package*.json ./
#14 CACHED

#15 exporting to image
#15 exporting layers 0.0s done
#15 exporting manifest sha256:ad83e46a396e525c8dbc5a0833aa5dcf74230d6f775c04f1972d51e7753e6a78
#15 exporting manifest sha256:ad83e46a396e525c8dbc5a0833aa5dcf74230d6f775c04f1972d51e7753e6a78 done
#15 exporting config sha256:26f2ffb07c735c9d002424e829a8de08b81296f2b40987c1cfeaf591ef70aec7 done
#15 exporting attestation manifest sha256:f407ca3cc3bd700a51db41f1904daa9e464b5ba6d5dcdcc1b9bf82eaf2d5b7bb 0.1s done
#15 exporting manifest list sha256:408d1757309ad242525555dbb71e8839d06227b43f613dec5c4df4a4f945b565
#15 exporting manifest list sha256:408d1757309ad242525555dbb71e8839d06227b43f613dec5c4df4a4f945b565 0.0s done
#15 naming to docker.io/library/lettertostars-backend:latest done
#15 unpacking to docker.io/library/lettertostars-backend:latest 0.1s done
#15 DONE 0.4s

#16 resolving provenance for metadata file
#16 DONE 0.2s
 Image lettertostars-backend:latest Built 
time="2026-02-08T12:46:46Z" level=warning msg="Found orphan containers ([letter-to-stars-lettertostars-webhook-1 letter-to-stars-lettertostars-web-1 letter-to-stars-lettertostars-ai-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container letter-to-stars-lettertostars-backend-1 Recreate 
 Container letter-to-stars-lettertostars-backend-1 Recreated 
 Container letter-to-stars-lettertostars-backend-1 Starting 
 Container letter-to-stars-lettertostars-backend-1 Started 
Building & starting ai-service container...
 Image lettertostars-ai:latest Building 
#1 [internal] load local bake definitions
#1 reading from stdin 561B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 349B 0.0s done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/python:3.11-slim
#3 DONE 0.9s

#4 [internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 1.22kB 0.0s done
#5 DONE 0.0s

#6 [1/5] FROM docker.io/library/python:3.11-slim@sha256:0b23cfb7425d065008b778022a17b1551c82f8b4866ee5a7a200084b7e2eafbf
#6 resolve docker.io/library/python:3.11-slim@sha256:0b23cfb7425d065008b778022a17b1551c82f8b4866ee5a7a200084b7e2eafbf 0.1s done
#6 DONE 0.1s

#7 [2/5] WORKDIR /app
#7 CACHED

#8 [3/5] COPY requirements.txt .
#8 CACHED

#9 [4/5] RUN pip install --no-cache-dir -r requirements.txt
#9 CACHED

#10 [5/5] COPY app ./app
#10 CACHED

#11 exporting to image
#11 exporting layers 0.0s done
#11 exporting manifest sha256:d35967c00e27308b59209e46a84de7ac4e807fe54f2ff797cb705e912b117312 done
#11 exporting config sha256:a605069104632dd747eeb87ed55a832a3b6b7eadea45f6f9c18df962052f96d2 done
#11 exporting attestation manifest sha256:ee600beefe31e7937b0fb8da1cc6db3eee8330da77c846827ab1ec75a7cfcf34 0.0s done
#11 exporting manifest list sha256:db07eef941c5767f8cf7c2ed5344bfb3d4ee52f8f36770eae5007eb71f0a6e8b 0.0s done
#11 naming to docker.io/library/lettertostars-ai:latest done
#11 unpacking to docker.io/library/lettertostars-ai:latest 0.0s done
#11 DONE 0.1s

#12 resolving provenance for metadata file
#12 DONE 0.0s
 Image lettertostars-ai:latest Built 
time="2026-02-08T12:47:08Z" level=warning msg="Found orphan containers ([0218e958d45a_letter-to-stars-lettertostars-webhook-1 letter-to-stars-lettertostars-backend-1 letter-to-stars-lettertostars-webhook-1 letter-to-stars-lettertostars-web-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container letter-to-stars-lettertostars-ai-1 Recreate 
 Container letter-to-stars-lettertostars-ai-1 Recreated 
 Container letter-to-stars-lettertostars-ai-1 Starting 
 Container letter-to-stars-lettertostars-ai-1 Started 
Building & starting frontend container...
 Image lettertostars-web:latest Building 
#1 [internal] load local bake definitions
#1 reading from stdin 561B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 450B 0.0s done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/nginx:alpine
#3 DONE 0.1s

#4 [internal] load metadata for docker.io/library/node:20-alpine
#4 DONE 0.2s

#5 [internal] load .dockerignore
#5 transferring context: 2B done
#5 DONE 0.0s

#6 [internal] load build context
#6 ...

#7 [stage-1 1/3] FROM docker.io/library/nginx:alpine@sha256:c083c3799197cfff91fe5c3c558db3d2eea65ccbbfd419fa42a64d2c39a24027
#7 resolve docker.io/library/nginx:alpine@sha256:c083c3799197cfff91fe5c3c558db3d2eea65ccbbfd419fa42a64d2c39a24027 0.5s done
#7 DONE 0.5s

#6 [internal] load build context
#6 ...

#8 [build 1/6] FROM docker.io/library/node:20-alpine@sha256:09e2b3d9726018aecf269bd35325f46bf75046a643a66d28360ec71132750ec8
#8 resolve docker.io/library/node:20-alpine@sha256:09e2b3d9726018aecf269bd35325f46bf75046a643a66d28360ec71132750ec8 0.5s done
#8 DONE 0.5s

#6 [internal] load build context
#6 transferring context: 1.16MB 4.3s done
#6 DONE 4.4s

#9 [build 3/6] COPY package*.json ./
#9 CACHED

#10 [build 2/6] WORKDIR /app
#10 CACHED

#11 [build 4/6] RUN npm install
#11 CACHED

#12 [build 5/6] COPY . .
#12 DONE 11.5s

#13 [build 6/6] RUN npm run build
#13 1.076 
#13 1.076 > frontend@0.0.0 build
#13 1.076 > tsc -b && vite build
#13 1.076 
#13 14.01 vite v7.3.1 building client environment for production...
#13 14.21 transforming...
#13 20.39 ✓ 29 modules transformed.
#13 20.95 rendering chunks...
#13 20.98 computing gzip size...
#13 21.00 dist/index.html                   0.46 kB │ gzip:  0.29 kB
#13 21.01 dist/assets/index-C6G_3qQV.css    0.06 kB │ gzip:  0.06 kB
#13 21.01 dist/assets/index-5UYKvgiG.js   193.43 kB │ gzip: 60.76 kB
#13 21.01 ✓ built in 6.89s
#13 DONE 21.1s

#7 [stage-1 1/3] FROM docker.io/library/nginx:alpine@sha256:c083c3799197cfff91fe5c3c558db3d2eea65ccbbfd419fa42a64d2c39a24027
#7 CACHED

#14 [stage-1 2/3] COPY --from=build /app/dist /usr/share/nginx/html
#14 DONE 0.1s

#15 [stage-1 3/3] COPY nginx.conf /etc/nginx/conf.d/default.conf
#15 DONE 0.1s

#16 exporting to image
#16 exporting layers
#16 exporting layers 0.3s done
#16 exporting manifest sha256:22c0f166ee7f635dd60d4b14ad5b403615a537b55831e159439c9170fc5461bc
#16 exporting manifest sha256:22c0f166ee7f635dd60d4b14ad5b403615a537b55831e159439c9170fc5461bc 0.0s done
#16 exporting config sha256:8dbf55569c1059ba3a66c7cb1e72bdd0b51485f982ed7e98bc04ad76448c52e5 0.0s done
#16 exporting attestation manifest sha256:8801f2cd762a283b2a39c2015e90bafc93923fc20afc3434759cab40a4b7b266 0.0s done
#16 exporting manifest list sha256:e03f65cb61d419a5f4d391ad2c03afdd8291850e7b58e707f564fe5d946c22c2 done
#16 naming to docker.io/library/lettertostars-web:latest done
#16 unpacking to docker.io/library/lettertostars-web:latest 0.1s done
#16 DONE 0.5s

#17 resolving provenance for metadata file
#17 DONE 0.0s
 Image lettertostars-web:latest Built 
time="2026-02-08T12:47:51Z" level=warning msg="Found orphan containers ([letter-to-stars-lettertostars-ai-1 letter-to-stars-lettertostars-webhook-1 letter-to-stars-lettertostars-backend-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container letter-to-stars-lettertostars-web-1 Recreate 
 Container letter-to-stars-lettertostars-web-1 Recreated 
 Container letter-to-stars-lettertostars-web-1 Starting 
 Container letter-to-stars-lettertostars-web-1 Started 
Reloading reverse-proxy nginx...
2026/02/08 12:47:53 [notice] 600#600: signal process started
Running health checks...
Health checks: OK
Deploy completed successfully
== Deploy finished: 2026-02-08T12:47:53+00:00 ==
Letter to Stars | Deploy Started
== Deploy started: 2026-02-08T12:49:30+00:00 ==
PROJECT_ROOT=/opt/letter-to-stars
COMPOSE_DIR=/opt/letter-to-stars/infra/compose/prod
PROXY_CONTAINER=reverse-proxy
COMPOSE_PROJECT_NAME=letter-to-stars
BASE_URL=https://lettertostars.mustafaerhanportakal.com
DEPLOY_REMOTE=origin
DEPLOY_BRANCH=main
-----------------------------------
Pulling latest code...
Current ref: main @ 88f2438
From https://github.com/MustafaEP/letter-to-stars
 * branch            main       -> FETCH_HEAD
   88f2438..5373ba7  main       -> origin/main
Reset branch 'main'
branch 'main' set up to track 'origin/main'.
Your branch is up to date with 'origin/main'.
HEAD is now at 5373ba7 chore: check auto deploy
Updated ref: main @ 5373ba7
APP_VERSION=5373ba7
Building & starting backend container...
 Image lettertostars-backend:latest Building 
#1 [internal] load local bake definitions
#1 reading from stdin 575B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 505B 0.0s done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:20-alpine
#3 DONE 0.4s

#4 [internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 2.52kB 0.0s done
#5 DONE 0.0s

#6 [build 1/6] FROM docker.io/library/node:20-alpine@sha256:09e2b3d9726018aecf269bd35325f46bf75046a643a66d28360ec71132750ec8
#6 resolve docker.io/library/node:20-alpine@sha256:09e2b3d9726018aecf269bd35325f46bf75046a643a66d28360ec71132750ec8 0.0s done
#6 DONE 0.1s

#7 [build 5/6] COPY . .
#7 CACHED

#8 [build 4/6] RUN npm install
#8 CACHED

#9 [build 6/6] RUN npm run build
#9 CACHED

#10 [stage-1 3/5] COPY --from=build /app/dist ./dist
#10 CACHED

#11 [stage-1 4/5] COPY --from=build /app/node_modules ./node_modules
#11 CACHED

#12 [build 2/6] WORKDIR /app
#12 CACHED

#13 [build 3/6] COPY package*.json ./
#13 CACHED

#14 [stage-1 5/5] COPY package*.json ./
#14 CACHED

#15 exporting to image
#15 exporting layers 0.0s done
#15 exporting manifest sha256:ad83e46a396e525c8dbc5a0833aa5dcf74230d6f775c04f1972d51e7753e6a78 done
#15 exporting config sha256:26f2ffb07c735c9d002424e829a8de08b81296f2b40987c1cfeaf591ef70aec7 done
#15 exporting attestation manifest sha256:636ffc1ae29f8d7db6f24136641ea30c77e2280438fdf83287da507c2cdc365a 0.0s done
#15 exporting manifest list sha256:eed567e388024924136d80ef463c4e0563ec5e519174aa657c46f4952ad79ac0 0.0s done
#15 naming to docker.io/library/lettertostars-backend:latest done
#15 unpacking to docker.io/library/lettertostars-backend:latest 0.0s done
#15 DONE 0.1s

#16 resolving provenance for metadata file
#16 DONE 0.0s
 Image lettertostars-backend:latest Built 
time="2026-02-08T12:49:32Z" level=warning msg="Found orphan containers ([letter-to-stars-lettertostars-web-1 letter-to-stars-lettertostars-ai-1 letter-to-stars-lettertostars-webhook-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container letter-to-stars-lettertostars-backend-1 Recreate 
 Container letter-to-stars-lettertostars-backend-1 Recreated 
 Container letter-to-stars-lettertostars-backend-1 Starting 
 Container letter-to-stars-lettertostars-backend-1 Started 
Building & starting ai-service container...
 Image lettertostars-ai:latest Building 
#1 [internal] load local bake definitions
#1 reading from stdin 561B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 349B 0.0s done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/python:3.11-slim
#3 DONE 0.4s

#4 [internal] load .dockerignore
#4 transferring context: 2B 0.0s done
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 1.22kB 0.0s done
#5 DONE 0.0s

#6 [1/5] FROM docker.io/library/python:3.11-slim@sha256:0b23cfb7425d065008b778022a17b1551c82f8b4866ee5a7a200084b7e2eafbf
#6 resolve docker.io/library/python:3.11-slim@sha256:0b23cfb7425d065008b778022a17b1551c82f8b4866ee5a7a200084b7e2eafbf
#6 resolve docker.io/library/python:3.11-slim@sha256:0b23cfb7425d065008b778022a17b1551c82f8b4866ee5a7a200084b7e2eafbf 0.1s done
#6 DONE 0.1s

#7 [2/5] WORKDIR /app
#7 CACHED

#8 [3/5] COPY requirements.txt .
#8 CACHED

#9 [4/5] RUN pip install --no-cache-dir -r requirements.txt
#9 CACHED

#10 [5/5] COPY app ./app
#10 CACHED

#11 exporting to image
#11 exporting layers 0.0s done
#11 exporting manifest sha256:d35967c00e27308b59209e46a84de7ac4e807fe54f2ff797cb705e912b117312 done
#11 exporting config sha256:a605069104632dd747eeb87ed55a832a3b6b7eadea45f6f9c18df962052f96d2 done
#11 exporting attestation manifest sha256:d50a52989c9b2cb759ed943155bf0b622483853231b07dc4690ad8f4ed96c9fa
#11 exporting attestation manifest sha256:d50a52989c9b2cb759ed943155bf0b622483853231b07dc4690ad8f4ed96c9fa 0.1s done
#11 exporting manifest list sha256:37de40e95b4efa1a7de6dabdf898985a0eeb8a669664707f2e46f58885e188da 0.0s done
#11 naming to docker.io/library/lettertostars-ai:latest 0.0s done
#11 unpacking to docker.io/library/lettertostars-ai:latest
#11 unpacking to docker.io/library/lettertostars-ai:latest 0.1s done
#11 DONE 0.5s

#12 resolving provenance for metadata file
#12 DONE 0.0s
 Image lettertostars-ai:latest Built 
time="2026-02-08T12:49:46Z" level=warning msg="Found orphan containers ([letter-to-stars-lettertostars-backend-1 letter-to-stars-lettertostars-web-1 letter-to-stars-lettertostars-webhook-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container letter-to-stars-lettertostars-ai-1 Recreate 
 Container letter-to-stars-lettertostars-ai-1 Recreated 
 Container letter-to-stars-lettertostars-ai-1 Starting 
 Container letter-to-stars-lettertostars-ai-1 Started 
Building & starting frontend container...
 Image lettertostars-web:latest Building 
#1 [internal] load local bake definitions
#1 reading from stdin 561B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 450B 0.0s done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/nginx:alpine
#3 DONE 0.1s

#4 [internal] load metadata for docker.io/library/node:20-alpine
#4 DONE 0.2s

#5 [internal] load .dockerignore
#5 transferring context: 2B done
#5 DONE 0.0s

#6 [internal] load build context
#6 ...

#7 [build 1/6] FROM docker.io/library/node:20-alpine@sha256:09e2b3d9726018aecf269bd35325f46bf75046a643a66d28360ec71132750ec8
#7 resolve docker.io/library/node:20-alpine@sha256:09e2b3d9726018aecf269bd35325f46bf75046a643a66d28360ec71132750ec8 0.2s done
#7 DONE 0.3s

#6 [internal] load build context
#6 ...

#8 [stage-1 1/3] FROM docker.io/library/nginx:alpine@sha256:c083c3799197cfff91fe5c3c558db3d2eea65ccbbfd419fa42a64d2c39a24027
#8 resolve docker.io/library/nginx:alpine@sha256:c083c3799197cfff91fe5c3c558db3d2eea65ccbbfd419fa42a64d2c39a24027 0.3s done
#8 DONE 0.3s

#6 [internal] load build context
#6 transferring context: 1.16MB 2.3s done
#6 DONE 2.4s

#9 [build 3/6] COPY package*.json ./
#9 CACHED

#10 [build 4/6] RUN npm install
#10 CACHED

#11 [build 5/6] COPY . .
#11 CACHED

#12 [build 6/6] RUN npm run build
#12 CACHED

#13 [stage-1 2/3] COPY --from=build /app/dist /usr/share/nginx/html
#13 CACHED

#14 [build 2/6] WORKDIR /app
#14 CACHED

#15 [stage-1 3/3] COPY nginx.conf /etc/nginx/conf.d/default.conf
#15 CACHED

#16 exporting to image
#16 exporting layers 0.0s done
#16 exporting manifest sha256:22c0f166ee7f635dd60d4b14ad5b403615a537b55831e159439c9170fc5461bc 0.1s done
#16 exporting config sha256:8dbf55569c1059ba3a66c7cb1e72bdd0b51485f982ed7e98bc04ad76448c52e5
#16 exporting config sha256:8dbf55569c1059ba3a66c7cb1e72bdd0b51485f982ed7e98bc04ad76448c52e5 done
#16 exporting attestation manifest sha256:a8b24f5fbfc3a0000399cc557a1fc3f692d7c4cd389a0d6b03deb0aa34c06a42 0.0s done
#16 exporting manifest list sha256:d893b81d859bbee87e586c79492eec131eade095d48d943c46460c8923f56f8a 0.0s done
#16 naming to docker.io/library/lettertostars-web:latest
#16 naming to docker.io/library/lettertostars-web:latest done
#16 unpacking to docker.io/library/lettertostars-web:latest 0.1s done
#16 DONE 0.5s

#17 resolving provenance for metadata file
#17 DONE 0.1s
 Image lettertostars-web:latest Built 
time="2026-02-08T12:49:54Z" level=warning msg="Found orphan containers ([letter-to-stars-lettertostars-ai-1 letter-to-stars-lettertostars-backend-1 letter-to-stars-lettertostars-webhook-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container letter-to-stars-lettertostars-web-1 Recreate 
 Container letter-to-stars-lettertostars-web-1 Recreated 
 Container letter-to-stars-lettertostars-web-1 Starting 
 Container letter-to-stars-lettertostars-web-1 Started 
Reloading reverse-proxy nginx...
2026/02/08 12:49:57 [notice] 607#607: signal process started
Running health checks...
Health checks: OK
Deploy completed successfully
== Deploy finished: 2026-02-08T12:49:58+00:00 ==
